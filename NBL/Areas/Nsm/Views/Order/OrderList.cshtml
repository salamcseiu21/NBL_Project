
@model IEnumerable<NblClassLibrary.Models.ViewModels.ViewOrder>

@{
    ViewBag.Title = "Order Slips";
    Layout = "~/Views/Shared/_UserLayoutPage.cshtml";
}
<section class="content">
    <h3 class="text-center text-green headingStyle">Order Slips</h3>
    <table id="table_Order_list" class="table table-bordered" style="border:1px solid black">

        <thead>
            <tr>
                <th>Client Info</th>
                <th>Order Slip No</th>
                <th class="text-right">Amount (&#2547;)</th>
                <th class="text-right">Vat (&#2547;)</th>
                <th class="text-right">Discount (&#2547;)</th>
                <th class="text-right">Special Discount (&#2547;)</th>
                <th class="text-right">Net Amount (&#2547;)</th>
                @*<th class="text-center">Approved At</th>*@
                <th class="text-center">Order At</th>
                <th class="text-center">Action</th>
            </tr>
        </thead>

        <tbody>

            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.Raw(item.Client.GetBasicInformation())</td>
                    <td>@item.OrderSlipNo</td>
                    
                    <td class="text-right">@(item.Amounts-item.Vat)</td>
                    <td class="text-right">@item.Vat</td>
                    <td class="text-right">@item.Discount</td>
                    <td class="text-right">@item.SpecialDiscount</td>
                
                    <td class="text-right">@item.NetAmounts</td>
                   
                    @*<td class="text-center">
                        @item.ApprovedByNsmDateTime.ToShortTimeString(),
                        @item.ApprovedByNsmDateTime.ToString("dd-MMM-yyyy")
                       

                    </td>*@
                    <td class="text-center">
                        @item.SysDate.ToShortTimeString(),
                        @item.SysDate.ToString("dd-MMM-yyyy")
                       
                    </td>
                    <td class="text-center">
                      
                        @Html.ActionLink(" Preview & Print", "OrderSlip", new { id = item.OrderId }, new { target = "_blank",@class="fa fa-eye" })

                    </td>
                </tr>
            }

        </tbody>
        <tfoot>
            <tr>
                <th>Client Info</th>
                <th>Order Slip No</th>
                <th class="text-right">Amount (&#2547;)</th>
                <th class="text-right">Vat (&#2547;)</th>
                <th class="text-right">Discount (&#2547;)</th>
                <th class="text-right">Special Discount (&#2547;)</th>
                <th class="text-right">Net Amount (&#2547;)</th>
                @*<th class="text-center">Approved At</th>*@
                <th class="text-center">Order At</th>
                <th class="text-center">Action</th>
            </tr>
        </tfoot>
    </table>

    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.js"></script>
    <script>

        $('#table_Order_list').DataTable({
            "lengthMenu": [[15, 25, 50, -1], [15, 25, 50, "All"]],
            "oLanguage": {
                "sEmptyTable": "<h4 style='color:green;font-weight:bolder;'>There are no  order slip in the list right now !</h4>"
            }
        });

    </script>

    <script>
        function Cancel(id) {

            if (confirm("Are you sure to cancel  this Order ?")) {
                // alert(id.id);
                $("#" + id.id).submit();
            } else {
                return false;// if it's a link to prevent post
            }

            return false;// if it's a link to prevent post


        }
    </script>

</section>

